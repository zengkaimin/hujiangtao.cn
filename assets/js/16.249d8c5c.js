(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{70:function(s,a,r){"use strict";r.r(a);var t=r(0),e=Object(t.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var s=this,a=s.$createElement,r=s._self._c||a;return r("div",{staticClass:"content"},[r("h1",{attrs:{id:"安装supervisor"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#安装supervisor","aria-hidden":"true"}},[s._v("#")]),s._v(" 安装supervisor")]),s._v(" "),r("h2",{attrs:{id:"目录"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#目录","aria-hidden":"true"}},[s._v("#")]),s._v(" 目录")]),s._v(" "),r("p"),r("div",{staticClass:"table-of-contents"},[r("ul",[r("li",[r("a",{attrs:{href:"#目录"}},[s._v("目录")])]),r("li",[r("a",{attrs:{href:"#安装"}},[s._v("安装")])]),r("li",[r("a",{attrs:{href:"#配置文件"}},[s._v("配置文件")])]),r("li",[r("a",{attrs:{href:"#启动supervisor服务"}},[s._v("启动supervisor服务")])]),r("li",[r("a",{attrs:{href:"#管理supervisor服务"}},[s._v("管理supervisor服务")])])])]),r("p"),s._v(" "),r("h2",{attrs:{id:"安装"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#安装","aria-hidden":"true"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),r("p",[s._v("建议使用 yum 安装")]),s._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[s._v("$ yum "),r("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" supervisor\n")])])]),r("p",[r("em",[s._v("不要用"),r("code",[s._v("pip install supervisor")]),s._v("，这样不好加入系统服务，不便于启动supervisor服务，也不便于管理supervisor")])]),s._v(" "),r("h2",{attrs:{id:"配置文件"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#配置文件","aria-hidden":"true"}},[s._v("#")]),s._v(" 配置文件")]),s._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[s._v("$ vim /etc/supervisord.conf\n")])])]),r("p",[s._v("/etc/supervisord.conf中添加如下：")]),s._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[s._v("[include]\nfiles = /etc/supervisord.d/*.ini\n\n/etc/supervisord.d/文件夹下添加配置文件（config.ini）:\n[program:web]\ncommand=python Server.py\ndirectory=/home/jiangtao/web\nautorestart=true\nstdout_logfile=/var/log/jiangtao/web.log\nloglevel=info\n")])])]),r("h2",{attrs:{id:"启动supervisor服务"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#启动supervisor服务","aria-hidden":"true"}},[s._v("#")]),s._v(" 启动supervisor服务")]),s._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[s._v("$ "),r("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" supervisord restart\n")])])]),r("p",[r("strong",[s._v("一定不能使用配置文件(supervisord.conf)启动服务，否者会有一些不知名的问题")])]),s._v(" "),r("h2",{attrs:{id:"管理supervisor服务"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#管理supervisor服务","aria-hidden":"true"}},[s._v("#")]),s._v(" 管理supervisor服务")]),s._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[s._v("$ supervisorctl\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" status  查看状态\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" start  开启\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" restart  重启\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" stop  停止\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" reload  重载配置并重启所有服务\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" update  更新配置并开启新增服务\n")])])])])}],!1,null,null,null);a.default=e.exports}}]);