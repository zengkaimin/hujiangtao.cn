(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{104:function(t,e,s){"use strict";s.r(e);var n=s(0),a=Object(n.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),s("p"),t._m(2),s("p"),t._v(" "),t._m(3),t._v(" "),s("p",[t._v("Sometimes, we need clean all *.pyc files in our current project.\nAt this time, we can use two single command to clean them up.")]),t._v(" "),t._m(4),t._m(5),t._v(" "),s("p",[t._v("I would prefer to use it in a python script, just like this:")]),t._v(" "),t._m(6),s("p",[t._v("and we can just type")]),t._v(" "),t._m(7),s("p",[t._v("all done. Yes, so simple!")]),t._v(" "),t._m(8),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://stackoverflow.com/questions/28991015/python3-project-remove-pycache-folders-and-pyc-files",target:"_blank",rel:"noopener noreferrer"}},[t._v("Python3 project remove "),s("strong",[t._v("pycache")]),t._v(" folders and .pyc files - stackoverflow"),s("OutboundLink")],1)])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"清理python项目中的pyc文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#清理python项目中的pyc文件","aria-hidden":"true"}},[this._v("#")]),this._v(" 清理Python项目中的pyc文件")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#目录","aria-hidden":"true"}},[this._v("#")]),this._v(" 目录")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#目录"}},[this._v("目录")])]),e("li",[e("a",{attrs:{href:"#简介"}},[this._v("简介")])]),e("li",[e("a",{attrs:{href:"#使用"}},[this._v("使用")])]),e("li",[e("a",{attrs:{href:"#reference"}},[this._v("Reference")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"简介"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#简介","aria-hidden":"true"}},[this._v("#")]),this._v(" 简介")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[this._v("python3 -c "),e("span",{pre:!0,attrs:{class:"token string"}},[this._v("\"import pathlib; [p.unlink() for p in pathlib.Path('.').rglob('*.py[co]')]\"")]),this._v("\npython3 -c "),e("span",{pre:!0,attrs:{class:"token string"}},[this._v("\"import pathlib; [p.rmdir() for p in pathlib.Path('.').rglob('__pycache__')]\"")]),this._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用","aria-hidden":"true"}},[this._v("#")]),this._v(" 使用")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# manage.py")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" os\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" fire\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("clean")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""Remove temporary files."""')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# for root, dirs, files in os.walk('.'):")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#     if '.venv' in root:")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#         continue")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#     for name in files:")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#         if name.endswith('.pyc') or name.endswith('~'):")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#             os.remove(os.path.join(root, name))")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#     for d in dirs:")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#         if os.path.join(root, d) == './__pycache__':")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#             continue")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#         if d == '__pycache__':")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#             os.rmdir(os.path.join(root, d))")]),t._v("\n    os"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("popen"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v("'''python3 -c \"import pathlib; [p.unlink() for p in pathlib.Path('.').rglob('*.py[co]')]\"'''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# os.popen('''python3 -c \"import pathlib; [p.rmdir() for p in pathlib.Path('.').rglob('__pycache__') if '.venv' not in p]\"''')")]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" __name__ "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'__main__'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    fire"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Fire"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("clean"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[this._v("python manage.py clean\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"reference"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#reference","aria-hidden":"true"}},[this._v("#")]),this._v(" Reference")])}],!1,null,null,null);e.default=a.exports}}]);